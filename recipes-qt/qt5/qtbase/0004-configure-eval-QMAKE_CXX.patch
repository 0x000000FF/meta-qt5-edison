From bc6f13a50ad1c69e728062375d979796977d2b73 Mon Sep 17 00:00:00 2001
From: Paul Eggleton <paul.eggleton@linux.intel.com>
Date: Wed, 26 Sep 2012 20:47:08 +0200
Subject: [PATCH] configure: eval QMAKE_CXX

Allow expansion of $(...) references in QMAKE_CXX (currently its value
is $(OE_QMAKE_CXX)) in order to allow compiler version check to succeed
which allows WebKit to be enabled.

Upstream-Status: Pending

Signed-off-by: Paul Eggleton <paul.eggleton@linux.intel.com>
Signed-off-by: Martin Jansa <Martin.Jansa@gmail.com>
---
 configure | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

diff --git a/configure b/configure
index e23ea22..d83cf74 100755
--- a/configure
+++ b/configure
@@ -2623,7 +2623,9 @@ else
     CFG_FRAMEWORK=no
 fi
 
-QMAKE_CONF_COMPILER=`getXQMakeConf QMAKE_CXX`
+QMAKE_CONF_COMPILER=`getXQMakeConf QMAKE_CXX | sed -n 's/$[(]\([0-9a-zA-Z_]*\)[)]/$\1/pg'`
+QMAKE_CONF_COMPILER=`eval "echo $QMAKE_CONF_COMPILER"`
+
 
 TEST_COMPILER=$QMAKE_CONF_COMPILER
 if [ "$XPLATFORM_SYMBIAN_SBSV2" = "no" ]; then
-- 
1.8.1.5

